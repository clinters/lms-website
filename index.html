<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LMS Sports Club</title>
  <meta name="description" content="Private, invitation-only weekly Premier League selections via WhatsApp. Simple, opt-in updates with clear privacy."/>
  <meta name="theme-color" content="#5e17eb"/>

  <style>
    :root{
      --bg:#0f1020; --panel:#151735; --brand:#5e17eb; --accent:#00e091;
      --text:#eaeaf3; --muted:#a8a9c4; --link:#76b3ff; --border:rgba(255,255,255,.08);
      --radius:14px; --shadow:0 12px 40px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:radial-gradient(1200px 600px at 80% -10%, #1b1d47 0%, #0f1020 50%, #0b0c1a 100%);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    header{padding:64px 24px 24px; text-align:center;}
    .logo{display:inline-flex;align-items:center;gap:.6rem;justify-content:center}
    .logo-badge{width:42px;height:42px;display:grid;place-items:center;border-radius:12px;background:linear-gradient(180deg,#6b2bff,#5e17eb);box-shadow:0 6px 18px rgba(94,23,235,.35);font-weight:800}
    .logo-badge span{letter-spacing:.8px}
    h1{margin:10px 0 8px; font-size:clamp(28px,5vw,44px)}
    .sub{color:var(--muted); max-width:820px; margin:0 auto}
    main{max-width:980px;margin:28px auto 80px; padding:0 24px; display:grid; gap:18px}
    section{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01)); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:28px}
    .cols{display:grid; gap:18px} @media(min-width:820px){ .cols{grid-template-columns:1fr 1fr} }
    h2{margin:.2rem 0 1rem; font-size:22px}
    label{display:block; margin:.6rem 0 .25rem}
    input,button{width:100%; padding:.85rem 1rem; border-radius:12px; border:1px solid var(--border); background:#0f122a; color:#eaeaf3}
    input:focus,button:focus{outline:2px solid #6b2bff; outline-offset:2px}
    button{background:linear-gradient(180deg,#6b2bff,#5e17eb); border:none; cursor:pointer; font-weight:600}
    a{color:#76b3ff}
    .muted{color:var(--muted)}
    .row{display:flex; gap:.6rem; align-items:center}
    .pill{display:inline-block; padding:.35rem .6rem; background:rgba(0,224,145,.16); color:#b9ffe5; border:1px solid rgba(0,224,145,.25); border-radius:999px; font-size:.9rem}
    footer{max-width:980px; margin:0 auto 56px; padding:0 24px; color:var(--muted); text-align:center}

    .modal{position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; padding:24px; z-index:50}
    .modal.open{display:flex}
    .card{max-width:880px; width:min(880px, 100%); background:#0f1128; border:1px solid var(--border); border-radius:16px; padding:22px 20px 18px; box-shadow:var(--shadow)}
    .card h3{margin:.2rem 0 .6rem}
    .card .body{max-height:70vh; overflow:auto}
    .close{float:right; background:#20224a; border:none; color:#eaeaf3; padding:.4rem .7rem; border-radius:10px; cursor:pointer}
    ul{padding-left:1.1rem}
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <div class="logo-badge"><span>LMS</span></div>
      <div style="text-align:left">
        <div style="opacity:.9;font-weight:700">LMS Sports Club</div>
        <div class="muted" style="font-size:.95rem">Private weekly fixtures and selections via WhatsApp (opt-in only).</div>
      </div>
    </div>
    <h1>Weekly Premier League Selections</h1>
    <p class="sub">Invitation-only updates handled on WhatsApp. We send fixtures, you choose a team each week. Simple, private, and low-noise.</p>
  </header>

  <main>
    <section class="cols">
      <div>
        <h2>Join</h2>
        <form id="reg" method="post" action="https://script.google.com/macros/s/AKfycbz5vb3AIYTjD7BRk7yHIx4zDrtqUasjtcMLf0NDQunX2Mmt_FIJZGNWcqr9I8h0Yg8/exec">
          <label for="name">Name</label>
          <input id="name" name="name" required placeholder="Alex Smith"/>

          <label for="phone">WhatsApp number (incl. country code)</label>
          <input id="phone" name="phone" inputmode="tel" required placeholder="+447712345678"/>

          <label for="email">Email (optional)</label>
          <input id="email" name="email" type="email" placeholder="you@example.com"/>

          <div class="row" style="margin:.8rem 0 1rem">
            <input type="checkbox" id="agree" name="agree" required style="width:auto"/>
            <label for="agree" class="muted">I agree to the <a href="#" data-open="rules">Rules</a> and <a href="#" data-open="privacy">Privacy Policy</a>.</label>
          </div>

          <button type="submit">Register</button>
          <p class="muted" style="margin:.7rem 0 0">By registering you opt-in to receive WhatsApp messages about fixtures and your weekly selection. You can reply STOP at any time.</p>
        </form>
      </div>

      <div>
        <h2>How it works</h2>
        <p>Each week you’ll receive the fixture list and can select a preferred team. You can revise your choice until the weekly cutoff.</p>
        <p><span class="pill">Private & invitation-only</span> &nbsp; <span class="pill">Opt-in via form</span> &nbsp; <span class="pill">No marketing</span></p>
        <p><a href="#" data-open="rules">Read the Rules</a> · <a href="#" data-open="privacy">Privacy</a></p>
      </div>
    </section>
  </main>

  <!-- Rules Modal -->
  <div id="modal-rules" class="modal" role="dialog" aria-modal="true" aria-labelledby="rules-title">
    <div class="card">
      <button class="close" data-close>Close</button>
      <h3 id="rules-title">LMS Sports Club – Rules</h3>
      <div class="body">
        <ul>
          <li>Each week we share the Premier League fixtures. Choose one team before the cutoff time.</li>
          <li>If no choice is received, the system may select a default based on standings and previous choices.</li>
          <li>You won’t be asked to choose the same team again in the same cycle.</li>
          <li>If a match is postponed after the cutoff, the panel result is used; if before, we’ll ask for a new choice.</li>
          <li>This is a private, invitation-only activity for a small group of participants.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Privacy Modal -->
  <div id="modal-privacy" class="modal" role="dialog" aria-modal="true" aria-labelledby="privacy-title">
    <div class="card">
      <button class="close" data-close>Close</button>
      <h3 id="privacy-title">Privacy Policy</h3>
      <div class="body">
        <p><strong>Data we collect</strong>: name, WhatsApp number, and (optional) email to run weekly selections (record choices, send fixtures and confirmations).</p>
        <p><strong>How it’s used</strong>: we send opt-in, transactional messages only (no marketing, no third-party sharing).</p>
        <p><strong>Retention</strong>: stored in Google Sheets for the current cycle and up to 12 months for audit, then removed.</p>
        <p><strong>Your choices</strong>: request access/correction/deletion anytime via the admin; reply STOP to opt out of messages.</p>
        <p><strong>Scope</strong>: private club – no public advertising, no unsolicited messages.</p>
        <p><strong>Contact</strong>: LMS Admin · clinters@me.com · Wirral, CH43 7QE · +447822034350</p>
      </div>
    </div>
  </div>

  <footer>
    <p class="muted">© LMS Sports Club. Private weekly selections via WhatsApp.</p>
  </footer>

  <script>
    // Modal open/close
    document.querySelectorAll('[data-open="rules"]').forEach(a=>a.addEventListener('click',e=>{e.preventDefault();document.getElementById('modal-rules').classList.add('open');}));
    document.querySelectorAll('[data-open="privacy"]').forEach(a=>a.addEventListener('click',e=>{e.preventDefault();document.getElementById('modal-privacy').classList.add('open');}));
    document.querySelectorAll('[data-close]').forEach(b=>b.addEventListener('click',()=>b.closest('.modal').classList.remove('open')));
    document.querySelectorAll('.modal').forEach(m=>m.addEventListener('click',e=>{ if(e.target===m) m.classList.remove('open'); }));

    // Light phone normalisation (+44 etc)
    const phone = document.getElementById('phone');
    phone.addEventListener('blur', () => {
      let p = phone.value.trim();
      if (p.startsWith('00')) p = '+' + p.slice(2);
      if (!p.startsWith('+')) p = '+' + p.replace(/[^\d]/g,'');
      p = p.replace(/\\s+/g,'');
      phone.value = p;
    });

    // Optional toast on success via postMessage from Apps Script
    window.addEventListener('message', ev => {
      if (!ev.data) return;
      if (ev.data.lmsForm === 'ok') alert('Thanks! Your registration was received.');
      if (ev.data.lmsForm === 'error') alert('Oops: ' + ev.data.message);
    });
  </script>
</body>
</html>
