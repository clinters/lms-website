<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LMS Bot – Last Man Standing</title>
  <meta name="description" content="Private, invitation-only Premier League friendly challenge. Simple weekly picks via WhatsApp with clear opt-in and privacy controls."/>
  <meta property="og:title" content="LMS Bot – Last Man Standing"/>
  <meta property="og:description" content="Private, invitation-only Premier League friendly challenge. Weekly picks via WhatsApp."/>
  <meta property="og:type" content="website"/>
  <meta name="theme-color" content="#5e17eb"/>

  <style>
    :root{
      --bg:#0f1020; --panel:#151735; --brand:#5e17eb; --accent:#00e091;
      --text:#eaeaf3; --muted:#a8a9c4; --link:#76b3ff; --border:rgba(255,255,255,.08);
      --radius:14px; --shadow:0 12px 40px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:radial-gradient(1200px 600px at 80% -10%, #1b1d47 0%, #0f1020 50%, #0b0c1a 100%);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    header{padding:64px 24px 24px; text-align:center;}
    .logo{display:inline-flex;align-items:center;gap:.6rem;justify-content:center}
    .logo-badge{width:42px;height:42px;display:grid;place-items:center;border-radius:12px;background:linear-gradient(180deg,#6b2bff,#5e17eb);box-shadow:0 6px 18px rgba(94,23,235,.35);font-weight:800}
    .logo-badge span{letter-spacing:.8px}
    h1{margin:10px 0 8px; font-size:clamp(28px,5vw,44px)}
    .sub{color:var(--muted); max-width:820px; margin:0 auto}
    main{max-width:980px;margin:28px auto 80px; padding:0 24px; display:grid; gap:18px}
    section{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01)); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:28px}
    .cols{display:grid; gap:18px} @media(min-width:820px){ .cols{grid-template-columns:1fr 1fr} }
    h2{margin:.2rem 0 1rem; font-size:22px}
    label{display:block; margin:.6rem 0 .25rem}
    input,button{width:100%; padding:.85rem 1rem; border-radius:12px; border:1px solid var(--border); background:#0f122a; color:#eaeaf3}
    input:focus,button:focus{outline:2px solid #6b2bff; outline-offset:2px}
    button{background:linear-gradient(180deg,#6b2bff,#5e17eb); border:none; cursor:pointer; font-weight:600}
    a{color:#76b3ff}
    .muted{color:var(--muted)}
    .row{display:flex; gap:.6rem; align-items:center}
    .pill{display:inline-block; padding:.35rem .6rem; background:rgba(0,224,145,.16); color:#b9ffe5; border:1px solid rgba(0,224,145,.25); border-radius:999px; font-size:.9rem}
    footer{max-width:980px; margin:0 auto 56px; padding:0 24px; color:var(--muted); text-align:center}

    /* Modals */
    .modal{position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; padding:24px; z-index:50}
    .modal.open{display:flex}
    .card{max-width:880px; width:min(880px, 100%); background:#0f1128; border:1px solid var(--border); border-radius:16px; padding:22px 20px 18px; box-shadow:var(--shadow)}
    .card h3{margin:.2rem 0 .6rem}
    .card .body{max-height:70vh; overflow:auto}
    .close{float:right; background:#20224a; border:none; color:#eaeaf3; padding:.4rem .7rem; border-radius:10px; cursor:pointer}
    ul{padding-left:1.1rem}
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <div class="logo-badge"><span>LMS</span></div>
      <div style="text-align:left">
        <div style="opacity:.9;font-weight:700">LMS – Private Premier League Challenge</div>
        <div class="muted" style="font-size:.95rem">Weekly picks via WhatsApp. Private, opt-in, no marketing.</div>
      </div>
    </div>
    <h1>Last Man Standing (but friendly)</h1>
    <p class="sub">Invitation-only weekly picks handled on WhatsApp. Fully opt-in. We send fixtures, confirm your pick, and keep score. That’s it.</p>
  </header>

  <main>
    <section class="cols">
      <div>
        <h2>Join the game</h2>
        <form id="reg" method="post" action="https://script.google.com/macros/s/AKfycbz5vb3AIYTjD7BRk7yHIx4zDrtqUasjtcMLf0NDQunX2Mmt_FIJZGNWcqr9I8h0Yg8/exec">
          <label for="name">Name</label>
          <input id="name" name="name" required placeholder="Alex Smith"/>

          <label for="phone">WhatsApp number (incl. country code)</label>
          <input id="phone" name="phone" inputmode="tel" required placeholder="+447712345678"/>

          <label for="email">Email (optional)</label>
          <input id="email" name="email" type="email" placeholder="you@example.com"/>

          <div class="row" style="margin:.8rem 0 1rem">
            <input type="checkbox" id="agree" name="agree" required style="width:auto"/>
            <label for="agree" class="muted">I agree to the <a href="#" data-open="rules">Rules</a> and <a href="#" data-open="privacy">Privacy Policy</a>.</label>
          </div>

          <button type="submit">Register</button>
          <p class="muted" style="margin:.7rem 0 0">By registering you opt-in to receive transactional WhatsApp messages about your picks and fixtures. You can STOP any time.</p>
        </form>
      </div>

      <div>
        <h2>How it works</h2>
        <p>Each week, choose one Premier League team you believe will win. If they draw or lose, you lose a life. Last player with lives left wins the challenge.</p>
        <p><span class="pill">Private, invitation-only</span> &nbsp; <span class="pill">Opt-in via form</span> &nbsp; <span class="pill">No marketing</span></p>
        <p class="muted">Contribution (e.g., £10) goes towards a prize fund for the winner — handled offline between participants.</p>
        <p><a href="#" data-open="rules">Read the Rules</a> · <a href="#" data-open="privacy">Privacy</a></p>
      </div>
    </section>
  </main>

  <!-- Rules Modal (WhatsApp-safe wording) -->
  <div id="modal-rules" class="modal" role="dialog" aria-modal="true" aria-labelledby="rules-title">
    <div class="card">
      <button class="close" data-close>Close</button>
      <h3 id="rules-title">LMS Friendly Football Challenge – Rules</h3>
      <div class="body">
        <ul>
          <li>Each week, choose <strong>one Premier League team</strong> you think will win.</li>
          <li>A draw or defeat costs you <strong>one life</strong>.</li>
          <li><strong>Your entry includes two lives</strong>, so a bad Week 1 pick doesn’t end your game.</li>
          <li>Send your pick via WhatsApp before the weekly deadline (usually Friday 6pm).</li>
          <li>If no pick is received, your default will be the <strong>highest-ranked team you haven’t used</strong> yet.</li>
          <li>You cannot choose the <strong>same team twice</strong> in the same game.</li>
          <li>If a match is postponed after the deadline, an independent football panel’s result will be used. If the postponement is before the deadline, you’ll be asked for a new pick.</li>
          <li>Towards the end of a game, remaining players may agree to share the prize fund. A share only happens if <strong>everyone agrees</strong>.</li>
          <li>If you are the last player with lives remaining, you’re declared the <strong>winner</strong>.</li>
        </ul>
        <p class="muted">Note: This is a <strong>private, invitation-only</strong> challenge for friends. The contribution (e.g., £10) is a simple way to fund the winner’s prize and is managed off-platform between participants.</p>
      </div>
    </div>
  </div>

  <!-- Privacy Modal (opt-in & transactional emphasis) -->
  <div id="modal-privacy" class="modal" role="dialog" aria-modal="true" aria-labelledby="privacy-title">
    <div class="card">
      <button class="close" data-close>Close</button>
      <h3 id="privacy-title">Privacy Policy</h3>
      <div class="body">
        <p><strong>What we collect</strong>: name, WhatsApp number, and (optionally) email — solely to run the private LMS game (record picks, send fixtures, confirm results).</p>
        <p><strong>How we use it</strong>: we send <em>transactional</em> WhatsApp messages you ask for (e.g., fixtures, pick confirmations, reminders). No marketing or third-party sharing.</p>
        <p><strong>Legal basis</strong>: your explicit consent (opt-in) and our legitimate interest in operating the private game.</p>
        <p><strong>Data location & retention</strong>: stored in Google Sheets. We keep entries for the game season and up to 12 months for dispute resolution, then delete.</p>
        <p><strong>Your choices</strong>: you can request your data, corrections, or deletion at any time by contacting the admin. Send “STOP” on WhatsApp to opt-out of further messages.</p>
        <p><strong>Scope</strong>: this is a private, invitation-only group activity. No public advertising or unsolicited messaging.</p>
        <p><strong>Contact</strong>: LMS Bot Admin · clinters@me.com · Wirral, CH43 7QE · +447822034350</p>
      </div>
    </div>
  </div>

  <footer>
    <p class="muted">© LMS Bot. Private, invitation-only friendly football challenge.</p>
  </footer>

  <script>
    // Modal open/close
    document.querySelectorAll('[data-open="rules"]').forEach(a=>a.addEventListener('click',e=>{e.preventDefault();document.getElementById('modal-rules').classList.add('open');}));
    document.querySelectorAll('[data-open="privacy"]').forEach(a=>a.addEventListener('click',e=>{e.preventDefault();document.getElementById('modal-privacy').classList.add('open');}));
    document.querySelectorAll('[data-close]').forEach(b=>b.addEventListener('click',()=>b.closest('.modal').classList.remove('open')));
    document.querySelectorAll('.modal').forEach(m=>m.addEventListener('click',e=>{ if(e.target===m) m.classList.remove('open'); }));

    // Light client-side normalisation for phone: allow +44 etc, trim spaces
    const phone = document.getElementById('phone');
    phone.addEventListener('blur', () => {
      let p = phone.value.trim();
      if (p.startsWith('00')) p = '+' + p.slice(2);
      if (!p.startsWith('+')) p = '+' + p.replace(/[^\\d]/g,'');
      p = p.replace(/\\s+/g,'');
      phone.value = p;
    });

    // Optional: show toast on successful Apps Script postMessage
    window.addEventListener('message', (ev) => {
      if (!ev.data) return;
      if (ev.data.lmsForm === 'ok') { alert('Thanks! Your registration was received.'); }
      if (ev.data.lmsForm === 'error') { alert('Oops: ' + ev.data.message); }
    });
  </script>
</body>
</html>
